# chatrobot项目文档
## 业务说明
业务流程
   - 创建机器人
   - 生成知识库
   - 训练模型
   - 发布模型
   - 启动机器人服务
   - 更新知识库
   - 重新训练模型
   - 重新发布模型
   - 重载机器人服务
   - 卸载机器人
### 创建企业机器人
这部分接口主要是给王宁宁用于在客服系统后台直接调用
#### 【接口】显示行业列表
由于目前还没有可使用的行业模型，因此用CCS的行业数据来给客户使用  
等到后期有了行业模型，这里再使用具有模型的行业数据。  
目前先建立行业，但没有行业模型。

##### 调用URL
/robot/manager/get_industry_list
##### 输入参数
无
##### 返回参数
    {
	    "code": 0,
	    "info": "",
	    "data": "[
                {'id': 1, 'industry_name': '农林牧渔', 'industry_parent': None}, 
                {'id': 2, 'industry_name': '采矿冶金', 'industry_parent': None}, 
                {'id': 3, 'industry_name': '制造加工', 'industry_parent': None},
                ...
                {'id': 327, 'industry_name': '博彩', 'industry_parent': 321}
            ]"
    }  
数据说明：  
-   id：行业id  
-   industry_name: 行业名  
-   industry_parent： 上级行业id， 如果有值，就代表本行业是二级行业，需要通过parent去找上级行业  
    
#### 【接口】创建机器人
#### 【接口】创建行业
    
    
    

    
#### 接口名
##### 请求URL
- ` http://xx.com/api/user/register `
  
##### 请求方式
- POST 

##### 参数

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|username |是  |string |用户名   |
|password |是  |string | 密码    |
|name     |否  |string | 昵称    |

##### 返回示例 

``` 
  {
    "error_code": 0,
    "data": {
      "uid": "1",
      "username": "12154545",
      "name": "吴系挂",
      "groupid": 2 ,
      "reg_time": "1436864169",
      "last_login_time": "0",
    }
  }
```

##### 返回参数说明 

|参数名|类型|说明|
|:-----  |:-----|-----                           |
|groupid |int   |用户组id，1：超级管理员；2：普通用户  |

##### 备注 

- 更多返回错误代码请看首页的错误代码描述
    



## 面向对象的类
### 机器人 Robot
#### 属性
   - 机器人ID：UUID生成的编码，多服务器间保持唯一
   - 机器人名：主要用于行业机器人，如果是企业机器人，名字和ID一致 
   - 机器人类型：0：企业机器人  1：行业机器人  2：通用机器人
   - 企业ID:机器人所属企业ID，通用机器人/行业机器人为null
   - 企业名称：方便显示
   - 所属行业ID：行业表的ID
   - 所属行业名称：方便显示
   - 机器人状态：0：禁用  1：启用
   - 模型状态： （稍后决定）
   - 模型更新时间
   - 创建时间
   - 更新时间

   - 语料库地址(和服务器相关，不适合存储在数据库里)
   - 模型地址(和服务器相关，不适合存储在数据库里)
   - 机器人最近更新时间(和服务器相关，不适合存储在数据库里)

### 行业
#### 属性
   - 行业ID 
   - 行业名称
   - 行业机器人ID
   - 模型状态
   - 模型更新时间
   - 创建时间
   - 更新时间

   - 语料库地址(和服务器相关，不适合存储在数据库里)
   - 模型地址(和服务器相关，不适合存储在数据库里)
   - 机器人最近更新时间(和服务器相关，不适合存储在数据库里)
